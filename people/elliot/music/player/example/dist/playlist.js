webpackJsonp([1],[
/* 0 */,
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _waveplayer = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"../../dist/waveplayer\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nvar _waveplayer2 = _interopRequireDefault(_waveplayer);\n\nvar _lib = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Application state.\n *\n * @var {Object}\n */\nvar state = {\n    selectedTrackNumber: 1\n};\n\n/**\n * The HTML elements representing the tracks.\n *\n * @var {Array}\n */\nvar trackNodes = void 0;\n\n/**\n * The WavePlayer instance.\n *\n * @var {WavePlayer}\n */\nvar wavePlayer = void 0;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    // Create a new waveplayer.js instance\n    wavePlayer = new _waveplayer2.default({\n        container: '#waveform',\n        barWidth: 4,\n        barGap: 1,\n        height: 128\n    });\n\n    trackNodes = [].concat(_toConsumableArray(document.querySelectorAll('.panel-block')));\n\n    // Schedule a new playlist and load the first audio track\n    wavePlayer.createPlaylist(trackNodes.map(function (elm) {\n        return elm.dataset.url;\n    }));\n\n    // Fired after the next track in the playlist is loaded and just before it\n    // will start playing\n    wavePlayer.on('waveplayer:playlist:next', handleChange);\n\n    // Bind click handlers\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = trackNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var trackNode = _step.value;\n\n            trackNode.onclick = handleClick.bind(null, trackNode);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n});\n\n/**\n * Handle track selection by the user.\n *\n * @param {node} node\n * @param {MouseEvent} e\n * @return {void}\n */\nvar handleClick = function handleClick(node) {\n    var trackNumber = parseInt(node.dataset.trackNumber);\n\n    if (trackNumber === state.selectedTrackNumber) {\n        (0, _lib.toggleClass)(node.firstElementChild.firstElementChild, 'fa-pause', 'fa-play');\n        if (wavePlayer.isPlaying()) {\n            wavePlayer.pause();\n        } else {\n            wavePlayer.play();\n        }\n    }\n\n    if (trackNumber !== state.selectedTrackNumber) {\n        switchTracks(node);\n\n        if (trackNumber - state.selectedTrackNumber === 1) {\n            wavePlayer.playlist.next();\n        }\n\n        if (trackNumber - state.selectedTrackNumber === -1) {\n            wavePlayer.playlist.previous();\n        }\n\n        if (Math.abs(trackNumber - state.selectedTrackNumber) > 1) {\n            wavePlayer.playlist.skipTo(trackNumber);\n        }\n\n        setState({ selectedTrackNumber: trackNumber });\n    }\n};\n\n/**\n * Update the UI in response to switching tracks.\n *\n * @param {node} node\n * @param {Number} trackNumber\n * @return {void}\n */\nvar switchTracks = function switchTracks(node) {\n    var previousNode = trackNodes.find(function (trackNode) {\n        return state.selectedTrackNumber === parseInt(trackNode.dataset.trackNumber);\n    });\n\n    // Update the play/pause icons\n    (0, _lib.addClass)((0, _lib.removeClass)(previousNode.firstElementChild.firstElementChild, 'fa-pause'), 'fa-play');\n    (0, _lib.addClass)((0, _lib.removeClass)(node.firstElementChild.firstElementChild, 'fa-play'), 'fa-pause');\n\n    // Update the active panel block\n    (0, _lib.removeClass)(previousNode, 'is-active');\n    (0, _lib.addClass)(node, 'is-active');\n};\n\n/**\n * Handle the case where the waveplayer instance advances to the next track in\n * the playlist.\n *\n * @param {WavePlayer} me\n * @param {Object} trackInfo\n * @return {void}\n */\nvar handleChange = function handleChange(me, _ref) {\n    var trackNumber = _ref.trackNumber;\n\n    var node = trackNodes.find(function (trackNode) {\n        return trackNumber === parseInt(trackNode.dataset.trackNumber);\n    });\n    switchTracks(node, trackNumber);\n    setState({ selectedTrackNumber: trackNumber });\n};\n\n/**\n * Update the application state.\n *\n * @param {Object} newState\n * @return {void}\n */\nvar setState = function setState(newState) {\n    return state = _extends({}, state, newState);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcGxheWxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdhdmVQbGF5ZXIgZnJvbSAnLi4vLi4vZGlzdC93YXZlcGxheWVyJztcbmltcG9ydCB7IHRvZ2dsZUNsYXNzLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MgfSBmcm9tICcuL2xpYic7XG5cbi8qKlxuICogQXBwbGljYXRpb24gc3RhdGUuXG4gKlxuICogQHZhciB7T2JqZWN0fVxuICovXG5sZXQgc3RhdGUgPSB7XG4gICAgc2VsZWN0ZWRUcmFja051bWJlcjogMVxufTtcblxuLyoqXG4gKiBUaGUgSFRNTCBlbGVtZW50cyByZXByZXNlbnRpbmcgdGhlIHRyYWNrcy5cbiAqXG4gKiBAdmFyIHtBcnJheX1cbiAqL1xubGV0IHRyYWNrTm9kZXM7XG5cbi8qKlxuICogVGhlIFdhdmVQbGF5ZXIgaW5zdGFuY2UuXG4gKlxuICogQHZhciB7V2F2ZVBsYXllcn1cbiAqL1xubGV0IHdhdmVQbGF5ZXI7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IHdhdmVwbGF5ZXIuanMgaW5zdGFuY2VcbiAgICB3YXZlUGxheWVyID0gbmV3IFdhdmVQbGF5ZXIoe1xuICAgICAgICBjb250YWluZXI6ICcjd2F2ZWZvcm0nLFxuICAgICAgICBiYXJXaWR0aDogNCxcbiAgICAgICAgYmFyR2FwOiAxLFxuICAgICAgICBoZWlnaHQ6IDEyOFxuICAgIH0pO1xuXG4gICAgdHJhY2tOb2RlcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFuZWwtYmxvY2snKV07XG5cbiAgICAvLyBTY2hlZHVsZSBhIG5ldyBwbGF5bGlzdCBhbmQgbG9hZCB0aGUgZmlyc3QgYXVkaW8gdHJhY2tcbiAgICB3YXZlUGxheWVyLmNyZWF0ZVBsYXlsaXN0KHRyYWNrTm9kZXMubWFwKGVsbSA9PiBlbG0uZGF0YXNldC51cmwpKTtcblxuICAgIC8vIEZpcmVkIGFmdGVyIHRoZSBuZXh0IHRyYWNrIGluIHRoZSBwbGF5bGlzdCBpcyBsb2FkZWQgYW5kIGp1c3QgYmVmb3JlIGl0XG4gICAgLy8gd2lsbCBzdGFydCBwbGF5aW5nXG4gICAgd2F2ZVBsYXllci5vbignd2F2ZXBsYXllcjpwbGF5bGlzdDpuZXh0JywgaGFuZGxlQ2hhbmdlKTtcblxuICAgIC8vIEJpbmQgY2xpY2sgaGFuZGxlcnNcbiAgICBmb3IgKGNvbnN0IHRyYWNrTm9kZSBvZiB0cmFja05vZGVzKSB7XG4gICAgICAgIHRyYWNrTm9kZS5vbmNsaWNrID0gaGFuZGxlQ2xpY2suYmluZChudWxsLCB0cmFja05vZGUpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEhhbmRsZSB0cmFjayBzZWxlY3Rpb24gYnkgdGhlIHVzZXIuXG4gKlxuICogQHBhcmFtIHtub2RlfSBub2RlXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmNvbnN0IGhhbmRsZUNsaWNrID0gbm9kZSA9PiB7XG4gICAgY29uc3QgdHJhY2tOdW1iZXIgPSBwYXJzZUludChub2RlLmRhdGFzZXQudHJhY2tOdW1iZXIpO1xuXG4gICAgaWYgKHRyYWNrTnVtYmVyID09PSBzdGF0ZS5zZWxlY3RlZFRyYWNrTnVtYmVyKSB7XG4gICAgICAgIHRvZ2dsZUNsYXNzKG5vZGUuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQsICdmYS1wYXVzZScsICdmYS1wbGF5Jyk7XG4gICAgICAgIGlmICh3YXZlUGxheWVyLmlzUGxheWluZygpKSB7XG4gICAgICAgICAgICB3YXZlUGxheWVyLnBhdXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXZlUGxheWVyLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0cmFja051bWJlciAhPT0gc3RhdGUuc2VsZWN0ZWRUcmFja051bWJlcikge1xuICAgICAgICBzd2l0Y2hUcmFja3Mobm9kZSk7XG5cbiAgICAgICAgaWYgKHRyYWNrTnVtYmVyIC0gc3RhdGUuc2VsZWN0ZWRUcmFja051bWJlciA9PT0gMSkge1xuICAgICAgICAgICAgd2F2ZVBsYXllci5wbGF5bGlzdC5uZXh0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhY2tOdW1iZXIgLSBzdGF0ZS5zZWxlY3RlZFRyYWNrTnVtYmVyID09PSAtMSkge1xuICAgICAgICAgICAgd2F2ZVBsYXllci5wbGF5bGlzdC5wcmV2aW91cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHRyYWNrTnVtYmVyIC0gc3RhdGUuc2VsZWN0ZWRUcmFja051bWJlcikgPiAxKSB7XG4gICAgICAgICAgICB3YXZlUGxheWVyLnBsYXlsaXN0LnNraXBUbyh0cmFja051bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdGF0ZSh7c2VsZWN0ZWRUcmFja051bWJlcjogdHJhY2tOdW1iZXJ9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgVUkgaW4gcmVzcG9uc2UgdG8gc3dpdGNoaW5nIHRyYWNrcy5cbiAqXG4gKiBAcGFyYW0ge25vZGV9IG5vZGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB0cmFja051bWJlclxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuY29uc3Qgc3dpdGNoVHJhY2tzID0gbm9kZSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNOb2RlID0gdHJhY2tOb2Rlcy5maW5kKHRyYWNrTm9kZSA9PiBzdGF0ZS5zZWxlY3RlZFRyYWNrTnVtYmVyID09PSBwYXJzZUludCh0cmFja05vZGUuZGF0YXNldC50cmFja051bWJlcikpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBwbGF5L3BhdXNlIGljb25zXG4gICAgYWRkQ2xhc3MocmVtb3ZlQ2xhc3MocHJldmlvdXNOb2RlLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLCAnZmEtcGF1c2UnKSwgJ2ZhLXBsYXknKTtcbiAgICBhZGRDbGFzcyhyZW1vdmVDbGFzcyhub2RlLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLCAnZmEtcGxheScpLCAnZmEtcGF1c2UnKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgYWN0aXZlIHBhbmVsIGJsb2NrXG4gICAgcmVtb3ZlQ2xhc3MocHJldmlvdXNOb2RlLCAnaXMtYWN0aXZlJyk7XG4gICAgYWRkQ2xhc3Mobm9kZSwgJ2lzLWFjdGl2ZScpO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHdhdmVwbGF5ZXIgaW5zdGFuY2UgYWR2YW5jZXMgdG8gdGhlIG5leHQgdHJhY2sgaW5cbiAqIHRoZSBwbGF5bGlzdC5cbiAqXG4gKiBAcGFyYW0ge1dhdmVQbGF5ZXJ9IG1lXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhY2tJbmZvXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5jb25zdCBoYW5kbGVDaGFuZ2UgPSAobWUsIHt0cmFja051bWJlcn0pID0+IHtcbiAgICBjb25zdCBub2RlID0gdHJhY2tOb2Rlcy5maW5kKHRyYWNrTm9kZSA9PiB0cmFja051bWJlciA9PT0gcGFyc2VJbnQodHJhY2tOb2RlLmRhdGFzZXQudHJhY2tOdW1iZXIpKTtcbiAgICBzd2l0Y2hUcmFja3Mobm9kZSwgdHJhY2tOdW1iZXIpO1xuICAgIHNldFN0YXRlKHtzZWxlY3RlZFRyYWNrTnVtYmVyOiB0cmFja051bWJlcn0pO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdTdGF0ZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuY29uc3Qgc2V0U3RhdGUgPSBuZXdTdGF0ZSA9PiBzdGF0ZSA9IHsuLi5zdGF0ZSwgLi4ubmV3U3RhdGV9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9wbGF5bGlzdC5qcyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQURBO0FBQ0E7QUFHQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBbUJBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXNCQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ })
],[1]);