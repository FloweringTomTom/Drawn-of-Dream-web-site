<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<link rel="stylesheet" type="text/css" href="http://futuramerlin.com/issue-tracker/css/default.css" />
	<script type="text/javascript"><!--
		if(document.layers) {document.write("<style>td{padding:0px;}<\/style>")}
	// --></script>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma-directive" content="no-cache" />
	<meta http-equiv="Cache-Directive" content="no-cache" />
	<meta http-equiv="Expires" content="Thu, 29 Dec 2016 02:12:08 GMT" />
	<link rel="shortcut icon" href="/issue-tracker/../../../favicon.ico" type="image/x-icon" />
	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Text Search" href="http://futuramerlin.com/issue-tracker/browser_search_plugin.php?type=text" />	<link rel="search" type="application/opensearchdescription+xml" title="MantisBT: Issue Id" href="http://futuramerlin.com/issue-tracker/browser_search_plugin.php?type=id" />	<title>0000097: File manager: Can’t hide individual files and folders (without prefixing them with a .) - MantisBT</title>
<script type="text/javascript" src="/issue-tracker/javascript/min/common.js"></script>
<script type="text/javascript">var loading_lang = "Loading...";</script><script type="text/javascript" src="/issue-tracker/javascript/min/ajax.js"></script>
</head>
<body>
<div align="left"><a href="my_view_page.php"><img border="0" alt="MantisBT" src="/issue-tracker/images/mantis_logo.png" /></a></div><table class="hide"><tr><td class="login-info-left">Anonymous | <a href="/issue-tracker/login_page.php?return=%2Fissue-tracker%2Fview.php%3Fid%3D97">Login</a></td><td class="login-info-middle"><span class="italic">2016-12-28 21:12 EST</span></td><td class="login-info-right"><form method="post" name="form_set_project" action="/issue-tracker/set_project.php">Project: <select name="project_id" class="small" onchange="document.forms.form_set_project.submit();"><option value="0" selected="selected" >All Projects</option>
<option value="1">Ember</option>
<option value="6">Futuramerlin.com</option>
<option value="2">Wreathe</option>
</select> <input type="submit" class="button-small" value="Switch" /></form><a href="http://futuramerlin.com/issue-tracker/issues_rss.php?"><img src="/issue-tracker/images/rss.png" alt="RSS" style="border-style: none; margin: 5px; vertical-align: middle;" /></a></td></tr></table><table class="width100" cellspacing="0"><tr><td class="menu"><a href="/issue-tracker/my_view_page.php">My View</a> | <a href="/issue-tracker/view_all_bug_page.php">View Issues</a> | <a href="/issue-tracker/bug_report_page.php">Report Issue</a> | <a href="/issue-tracker/changelog_page.php">Change Log</a> | <a href="/issue-tracker/roadmap_page.php">Roadmap</a></td><td class="menu right nowrap"><form method="post" action="/issue-tracker/jump_to_bug.php"><input type="text" name="bug_id" size="10" class="small" value="Issue #" onfocus="if (this.value == 'Issue #') this.value = ''" onblur="if (this.value == '') this.value = 'Issue #'" />&#160;<input type="submit" class="button-small" value="Jump" />&#160;</form></td></tr></table><br /><table class="width100" cellspacing="1"><tr><td class="form-title" colspan="3">View Issue Details&#160;<span class="small"><span class="bracket-link">[&#160;<a href="#bugnotes">Jump to Notes</a>&#160;]</span> </span></td><td class="center"><span class="small"></span></td><td class="right" colspan="2"><span class="small"><span class="bracket-link">[&#160;<a href="view.php?id=97&amp;history=1#history">Issue History</a>&#160;]</span> </span><span class="small"><span class="bracket-link">[&#160;<a href="print_bug_page.php?bug_id=97">Print</a>&#160;]</span> </span></td></tr><tr><td class="category" width="15%">ID</td><td class="category" width="20%">Project</td><td class="category" width="15%">Category</td><td class="category" width="15%">View Status</td><td class="category" width="15%">Date Submitted</td><td class="category" width="20%">Last Update</td></tr><tr class="row-1"><td>0000097</td><td>Wreathe</td><td>[All Projects] General</td><td>public</td><td>2012-08-24 22:00</td><td>2016-09-03 23:08</td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-2"><td class="category">Reporter</td><td>admin</td><td colspan="4">&#160;</td></tr><tr class="row-1"><td class="category">Assigned To</td><td>admin</td><td colspan="4">&#160;</td></tr><tr class="row-2"><td class="category">Priority</td><td>normal</td><td class="category">Severity</td><td>minor</td><td class="category">Reproducibility</td><td>N/A</td></tr><tr class="row-1"><td class="category">Status</td><td bgcolor="#c2dfff">assigned</td><td class="category">Resolution</td><td>open</td><td colspan="2">&#160;</td></tr><tr class="row-2"><td class="category">Platform</td><td></td><td class="category">OS</td><td></td><td class="category">OS Version</td><td></td></tr><tr class="row-1"><td class="category">Product Version</td><td></td><td colspan="4">&#160;</td></tr><tr class="row-2"><td class="category">Target Version</td><td>7.3</td><td class="category">Fixed in Version</td><td></td><td colspan="2">&#160;</td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-1"><td class="category">Summary</td><td colspan="5">0000097: File manager: Can’t hide individual files and folders (without prefixing them with a .)</td></tr><tr class="row-2"><td class="category">Description</td><td colspan="5">Can’t hide individual files and folders in Dolphin (without prefixing them with a .)</td></tr><tr class="row-1"><td class="category">Additional Information</td><td colspan="5">Bug report from Wreathe notes V11.</td></tr><tr class="row-2"><td class="category">Tags</td><td colspan="5">No tags attached.</td></tr><tr class="row-1"><td class="category">Attach Tags</td><td colspan="5">		<small>(Separate by ",")</small>
		<form method="post" action="tag_attach.php">
		<input type="hidden" name="tag_attach_token" value="20161228f7b6f90ab13bb255575be8ec078edddbdbba569a"/>		<input type="hidden" name="bug_id" value="97" />
				<input type="hidden" id="tag_separator" value="," />
		<input type="text" name="tag_string" id="tag_string" size="40" value="" />
		<select tabindex="1" name="tag_select" id="tag_select" onchange="tag_string_append( this.options[ this.selectedIndex ].title );">
			<option value="0">Existing tags</option><option value="5" title="build-failure">build-failure - Package won't compil</option><option value="2" title="compatibility-dataformats">compatibility-dataformats - Data format compatib</option><option value="3" title="compatibility-networking">compatibility-networking - Networking protocol </option><option value="7" title="need-test-opportunity">need-test-opportunity</option><option value="9" title="need-testcase">need-testcase</option><option value="8" title="security">security</option><option value="4" title="upstream">upstream</option><option value="6" title="ux">ux</option><option value="1" title="wishlist-longshot">wishlist-longshot - Long-shot features.</option>		</select>
				<input type="submit" value="Attach" class="button" />
		</form>
		</td></tr><tr class="spacer"><td colspan="6"></td></tr><tr class="row-2"><td class="category"><a name="attachments" id="attachments" />Attached Files</td><td colspan="5"></td></tr><tr align="center"><td align="center" colspan="6"><table><tr class="vcenter"><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td><td class="center"></td></tr></table></td></tr></table><br />

<div id="relationships_open"><table class="width100" cellspacing="1">
<tr class="row-2" valign="top">
	<td width="15%" class="form-title" colspan="2">
		<a href="" onclick="ToggleDiv( 'relationships' ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&#160;Relationships	</td>
</tr>
<tr>
	<td colspan="2"><table border="0" width="100%" cellpadding="0" cellspacing="1"><tr bgcolor="#c2dfff"><td><span class="nowrap">child of</span>&#160;</td><td><a href="view.php?id=98">0000098</a></td><td><span class="issue-status" title="open">assigned</span></td><td><span class="nowrap"><a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a></span>&#160;</td><td>Hide technical folders in Wreathe&#160;</td></tr>
</table></td>
</tr>
</table>

</div><div id="relationships_closed" class="hidden"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title">
		<a href="" onclick="ToggleDiv( 'relationships' ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&#160;Relationships	</td>
</tr>
</table>

</div><br />

<div id="upload_form_open"><form method="post" enctype="multipart/form-data" action="bug_file_add.php">
<input type="hidden" name="bug_file_add_token" value="20161228c56c6903aadc804e6c086ff7eb67deb208cde492"/>
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
<a href="" onclick="ToggleDiv( 'upload_form' ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&#160;Upload File	</td>
</tr>
<tr class="row-1">
	<td class="category" width="15%">
		Select File<br />
		<span class="small">(Maximum size: 5,000k)</span>	</td>
	<td width="85%">
		<input type="hidden" name="bug_id" value="97" />
		<input type="hidden" name="max_file_size" value="5000000" />
		<input id="ufile[]" name="ufile[]" type="file" size="50" />
		<input type="submit" class="button"
			value="Upload File"
		/>
	</td>
</tr>
</table>
</form>
</div><div id="upload_form_closed" class="hidden"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
		<a href="" onclick="ToggleDiv( 'upload_form' ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&#160;Upload File	</td>
</tr>
</table>

</div>
<a name="bugnotes" id="bugnotes" /><br />

<div id="bugnotes_open"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
<a href="" onclick="ToggleDiv( 'bugnotes' ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&#160;		Notes	</td>
</tr>
<tr class="bugnote" id="c106">
        <td class="bugnote-public">
				<span class="small">(<a href="view.php?id=97#c106" title="Direct link to note">0000106)</a></span><br />
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>		<span class="small">(administrator)</span>
				<br />
		<span class="small">2012-11-09 05:19</span><br />
				<br /><div class="small">
				</div>
	</td>
	<td class="bugnote-note-public">
		Patch (from <a href="http://bugsfiles.kde.org/attachment.cgi?id=49650">http://bugsfiles.kde.org/attachment.cgi?id=49650</a> [<a href="http://bugsfiles.kde.org/attachment.cgi?id=49650" target="_blank">^</a>]):<br />
<br />
Index: src/views/dolphincolumnview.cpp<br />
===================================================================<br />
--- src/views/dolphincolumnview.cpp	(revision 1156733)<br />
+++ src/views/dolphincolumnview.cpp	(working copy)<br />
@@ -48,6 +48,7 @@<br />
&#160;#include &lt;QPainter&gt;<br />
&#160;#include &lt;QPoint&gt;<br />
&#160;#include &lt;QScrollBar&gt;<br />
+#include &lt;qstringlist.h&gt;<br />
&#160;<br />
&#160;DolphinColumnView::DolphinColumnView(QWidget* parent,<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DolphinColumnViewContainer* container,<br />
@@ -105,8 +106,11 @@<br />
&#160;&#160;&#160;&#160;&#160;m_dirLister-&gt;setAutoUpdate(true);<br />
&#160;&#160;&#160;&#160;&#160;m_dirLister-&gt;setMainWindow(window());<br />
&#160;&#160;&#160;&#160;&#160;m_dirLister-&gt;setDelayedMimeTypes(true);<br />
-    const bool showHiddenFiles = m_container-&gt;m_dolphinViewController-&gt;view()-&gt;showHiddenFiles();<br />
+    const bool showHiddenFiles = <br />
+            m_container-&gt;m_dolphinViewController-&gt;view()-&gt;showHiddenFiles();<br />
&#160;&#160;&#160;&#160;&#160;m_dirLister-&gt;setShowingDotFiles(showHiddenFiles);<br />
+    m_dirLister-&gt;setHiddenList(QStringList::QStringList(<br />
+            m_container-&gt;m_dolphinViewController-&gt;view()-&gt;hiddenList()));<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;m_dolphinModel = new DolphinModel(this);<br />
&#160;&#160;&#160;&#160;&#160;m_dolphinModel-&gt;setDirLister(m_dirLister);<br />
Index: src/views/dolphindirlister.cpp<br />
===================================================================<br />
--- src/views/dolphindirlister.cpp	(revision 1156733)<br />
+++ src/views/dolphindirlister.cpp	(working copy)<br />
@@ -25,6 +25,7 @@<br />
&#160;&#160;&#160;&#160;&#160;KDirLister()<br />
&#160;{<br />
&#160;&#160;&#160;&#160;&#160;setAutoErrorHandlingEnabled(false, 0);<br />
+    hiddenlist = QStringList::QStringList();<br />
&#160;}<br />
&#160;<br />
&#160;DolphinDirLister::~DolphinDirLister()<br />
@@ -45,4 +46,27 @@<br />
&#160;&#160;&#160;&#160;&#160;}<br />
&#160;}<br />
&#160;<br />
+void DolphinDirLister::setHiddenList(const QStringList&amp; list)<br />
+{<br />
+    hiddenlist = QStringList::QStringList(list);<br />
+}<br />
+<br />
+QStringList DolphinDirLister::hiddenList()<br />
+{<br />
+    return QStringList::QStringList(hiddenlist);<br />
+}<br />
+<br />
+bool DolphinDirLister::matchesFilter(const KFileItem&amp; item) const<br />
+{<br />
+    if (!showingDotFiles()) {<br />
+        QStringList thelist = QStringList::QStringList(hiddenlist);<br />
+        for (QStringList::Iterator it = thelist.begin(); it != thelist.end(); ++it) {<br />
+            if (*it == item.text()) {<br />
+                return false;<br />
+            }<br />
+        }<br />
+    }<br />
+    return KDirLister::matchesFilter(item);<br />
+}<br />
+<br />
&#160;#include &quot;dolphindirlister.moc&quot;<br />
Index: src/views/viewproperties.h<br />
===================================================================<br />
--- src/views/viewproperties.h	(revision 1156733)<br />
+++ src/views/viewproperties.h	(working copy)<br />
@@ -23,6 +23,7 @@<br />
&#160;<br />
&#160;#include &lt;views/dolphinview.h&gt;<br />
&#160;#include &lt;kurl.h&gt;<br />
+#include &lt;qstringlist.h&gt;<br />
&#160;#include &lt;libdolphin_export.h&gt;<br />
&#160;<br />
&#160;class ViewPropertySettings;<br />
@@ -62,6 +63,8 @@<br />
&#160;&#160;&#160;&#160;&#160;void setShowHiddenFiles(bool show);<br />
&#160;&#160;&#160;&#160;&#160;bool showHiddenFiles() const;<br />
&#160;<br />
+    QStringList hiddenList() const;<br />
+<br />
&#160;&#160;&#160;&#160;&#160;void setCategorizedSorting(bool categorized);<br />
&#160;&#160;&#160;&#160;&#160;bool categorizedSorting() const;<br />
&#160;<br />
@@ -157,6 +160,7 @@<br />
&#160;&#160;&#160;&#160;&#160;bool m_changedProps;<br />
&#160;&#160;&#160;&#160;&#160;bool m_autoSave;<br />
&#160;&#160;&#160;&#160;&#160;QString m_filePath;<br />
+	QStringList m_hiddenList;<br />
&#160;&#160;&#160;&#160;&#160;ViewPropertySettings* m_node;<br />
&#160;};<br />
&#160;<br />
Index: src/views/dolphinview.h<br />
===================================================================<br />
--- src/views/dolphinview.h	(revision 1156733)<br />
+++ src/views/dolphinview.h	(working copy)<br />
@@ -25,6 +25,7 @@<br />
&#160;#include &lt;config-nepomuk.h&gt;<br />
&#160;<br />
&#160;#include &quot;libdolphin_export.h&quot;<br />
+#include &quot;dolphindirlister.h&quot;<br />
&#160;<br />
&#160;#include &lt;kparts/part.h&gt;<br />
&#160;#include &lt;kfileitem.h&gt;<br />
@@ -38,18 +39,19 @@<br />
&#160;#include &lt;QListView&gt;<br />
&#160;#include &lt;QSet&gt;<br />
&#160;#include &lt;QWidget&gt;<br />
+#include &lt;qstringlist.h&gt;<br />
&#160;<br />
&#160;typedef KIO::FileUndoManager::CommandType CommandType;<br />
&#160;<br />
&#160;class DolphinColumnViewContainer;<br />
&#160;class DolphinDetailsView;<br />
+class DolphinDirLister;<br />
&#160;class DolphinIconsView;<br />
&#160;class DolphinModel;<br />
&#160;class DolphinSortFilterProxyModel;<br />
&#160;class DolphinViewController;<br />
&#160;class KAction;<br />
&#160;class KActionCollection;<br />
-class KDirLister;<br />
&#160;class KUrl;<br />
&#160;class ViewModeController;<br />
&#160;class ViewProperties;<br />
@@ -168,6 +170,9 @@<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;/** See setShowHiddenFiles */<br />
&#160;&#160;&#160;&#160;&#160;bool showHiddenFiles() const;<br />
+    <br />
+    /** returns the list of specifically hidden files in the current folder */<br />
+    QStringList hiddenList() const;<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;/** See setCategorizedSorting */<br />
&#160;&#160;&#160;&#160;&#160;bool categorizedSorting() const;<br />
@@ -767,7 +772,7 @@<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DolphinModel* dirModel() const;<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DolphinSortFilterProxyModel* proxyModel() const;<br />
-        KDirLister* dirLister() const;<br />
+        DolphinDirLister* dirLister() const;<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;private:<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;DolphinIconsView* m_iconsView;<br />
Index: src/views/dolphindirlister.h<br />
===================================================================<br />
--- src/views/dolphindirlister.h	(revision 1156733)<br />
+++ src/views/dolphindirlister.h	(working copy)<br />
@@ -21,6 +21,7 @@<br />
&#160;#define DOLPHINDIRLISTER_H<br />
&#160;<br />
&#160;#include &lt;kdirlister.h&gt;<br />
+#include &lt;qstringlist.h&gt;<br />
&#160;<br />
&#160;/**<br />
&#160;&#160;* @brief Extends the class KDirLister by emitting a signal when an<br />
@@ -33,6 +34,8 @@<br />
&#160;public:<br />
&#160;&#160;&#160;&#160;&#160;DolphinDirLister();<br />
&#160;&#160;&#160;&#160;&#160;virtual ~DolphinDirLister();<br />
+    virtual void setHiddenList(const QStringList&amp; list);<br />
+    virtual QStringList hiddenList();<br />
&#160;<br />
&#160;signals:<br />
&#160;&#160;&#160;&#160;&#160;/** Is emitted whenever an error has occurred. */<br />
@@ -43,6 +46,10 @@<br />
&#160;<br />
&#160;protected:<br />
&#160;&#160;&#160;&#160;&#160;virtual void handleError(KIO::Job* job);<br />
+    virtual bool matchesFilter(const KFileItem&amp; item) const;<br />
+<br />
+private:<br />
+    QStringList hiddenlist;<br />
&#160;};<br />
&#160;<br />
&#160;#endif<br />
Index: src/views/viewproperties.cpp<br />
===================================================================<br />
--- src/views/viewproperties.cpp	(revision 1156733)<br />
+++ src/views/viewproperties.cpp	(working copy)<br />
@@ -32,6 +32,8 @@<br />
&#160;#include &lt;QDate&gt;<br />
&#160;#include &lt;QFile&gt;<br />
&#160;#include &lt;QFileInfo&gt;<br />
+#include &lt;QRegExp&gt;<br />
+#include &lt;QtDebug&gt;<br />
&#160;<br />
&#160;#include &quot;settings/dolphinsettings.h&quot;<br />
&#160;<br />
@@ -58,6 +60,19 @@<br />
&#160;&#160;&#160;&#160;&#160;}<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;const QString file = m_filePath + QDir::separator() + QLatin1String(&quot;.directory&quot;);<br />
+    const QString hiddenfile = m_filePath + QDir::separator() + QLatin1String(&quot;.hidden&quot;);<br />
+    QFile thefile(hiddenfile);<br />
+    m_hiddenList = QStringList::QStringList();<br />
+    if (thefile.open(QIODevice::ReadOnly | QIODevice::Text)) {<br />
+        while (!thefile.atEnd()) {<br />
+            QString string = thefile.readLine();<br />
+            QRegExp re(&quot;^(.+)\n$&quot;);<br />
+            if (re.indexIn(string) &gt;= 0) {<br />
+                m_hiddenList.append(re.cap(1));<br />
+            }<br />
+        }<br />
+        thefile.close();<br />
+    }<br />
&#160;&#160;&#160;&#160;&#160;m_node = new ViewPropertySettings(KSharedConfig::openConfig(file));<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;const bool useDefaultProps = !useGlobalViewProps &amp;&amp;<br />
@@ -74,6 +89,12 @@<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;settings-&gt;setGlobalViewProps(false);<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;m_changedProps = false;<br />
+    } else {<br />
+        QStringList directoryList = QStringList::QStringList(m_node-&gt;hideSpecificFiles());<br />
+        for (QStringList::Iterator it = directoryList.begin();<br />
+                it != directoryList.end(); ++it) {<br />
+            m_hiddenList.append(*it);<br />
+        }<br />
&#160;&#160;&#160;&#160;&#160;}<br />
&#160;}<br />
&#160;<br />
@@ -139,6 +160,11 @@<br />
&#160;&#160;&#160;&#160;&#160;return m_node-&gt;showHiddenFiles();<br />
&#160;}<br />
&#160;<br />
+QStringList ViewProperties::hiddenList() const<br />
+{<br />
+    return QStringList::QStringList(m_hiddenList);<br />
+}<br />
+<br />
&#160;void ViewProperties::setSorting(DolphinView::Sorting sorting)<br />
&#160;{<br />
&#160;&#160;&#160;&#160;&#160;if (m_node-&gt;sorting() != sorting) {<br />
Index: src/views/dolphinview.cpp<br />
===================================================================<br />
--- src/views/dolphinview.cpp	(revision 1156733)<br />
+++ src/views/dolphinview.cpp	(working copy)<br />
@@ -54,6 +54,7 @@<br />
&#160;#include &quot;dolphincolumnviewcontainer.h&quot;<br />
&#160;#include &quot;dolphinviewcontroller.h&quot;<br />
&#160;#include &quot;dolphindetailsview.h&quot;<br />
+#include &quot;dolphindirlister.h&quot;<br />
&#160;#include &quot;dolphinfileitemdelegate.h&quot;<br />
&#160;#include &quot;dolphinnewmenuobserver.h&quot;<br />
&#160;#include &quot;dolphinsortfilterproxymodel.h&quot;<br />
@@ -139,7 +140,7 @@<br />
&#160;&#160;&#160;&#160;&#160;connect(m_dolphinViewController, SIGNAL(urlChangeRequested(KUrl)),<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;m_viewModeController, SLOT(setUrl(KUrl)));<br />
&#160;<br />
-    KDirLister* dirLister = m_viewAccessor.dirLister();<br />
+    DolphinDirLister* dirLister = m_viewAccessor.dirLister();<br />
&#160;&#160;&#160;&#160;&#160;connect(dirLister, SIGNAL(redirection(KUrl,KUrl)),<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;this, SLOT(slotRedirection(KUrl,KUrl)));<br />
&#160;&#160;&#160;&#160;&#160;connect(dirLister, SIGNAL(completed()),<br />
@@ -274,6 +275,11 @@<br />
&#160;&#160;&#160;&#160;&#160;return m_viewAccessor.dirLister()-&gt;showingDotFiles();<br />
&#160;}<br />
&#160;<br />
+QStringList DolphinView::hiddenList() const<br />
+{<br />
+    return m_viewAccessor.dirLister()-&gt;hiddenList();<br />
+}<br />
+<br />
&#160;bool DolphinView::categorizedSorting() const<br />
&#160;{<br />
&#160;&#160;&#160;&#160;&#160;// If all view modes would support categorized sorting, returning<br />
@@ -1184,7 +1190,7 @@<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return;<br />
&#160;&#160;&#160;&#160;&#160;}<br />
&#160;<br />
-    KDirLister* dirLister = m_viewAccessor.dirLister();<br />
+    DolphinDirLister* dirLister = m_viewAccessor.dirLister();<br />
&#160;&#160;&#160;&#160;&#160;dirLister-&gt;openUrl(url, reload ? KDirLister::Reload : KDirLister::NoFlags);<br />
&#160;}<br />
&#160;<br />
@@ -1218,6 +1224,8 @@<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;emit showHiddenFilesChanged();<br />
&#160;&#160;&#160;&#160;&#160;}<br />
&#160;<br />
+    m_viewAccessor.dirLister()-&gt;setHiddenList(props.hiddenList());<br />
+<br />
&#160;&#160;&#160;&#160;&#160;m_storedCategorizedSorting = props.categorizedSorting();<br />
&#160;&#160;&#160;&#160;&#160;const bool categorized = m_storedCategorizedSorting &amp;&amp; supportsCategorizedSorting();<br />
&#160;&#160;&#160;&#160;&#160;if (categorized != m_viewAccessor.proxyModel()-&gt;isCategorizedModel()) {<br />
@@ -1539,9 +1547,10 @@<br />
&#160;&#160;&#160;&#160;&#160;return m_proxyModel;<br />
&#160;}<br />
&#160;<br />
-KDirLister* DolphinView::ViewAccessor::dirLister() const<br />
+DolphinDirLister* DolphinView::ViewAccessor::dirLister() const<br />
&#160;{<br />
-    return dirModel()-&gt;dirLister();<br />
+    return static_cast&lt;DolphinDirLister*&gt;(dirModel()-&gt;dirLister());<br />
+    /* may need new DolphinDirLister(dirModel()-&gt;dirLister()) */<br />
&#160;}<br />
&#160;<br />
&#160;void DolphinView::slotRedirection(const KUrl&amp; oldUrl, const KUrl&amp; newUrl)<br />
Index: src/settings/dolphin_directoryviewpropertysettings.kcfg<br />
===================================================================<br />
--- src/settings/dolphin_directoryviewpropertysettings.kcfg	(revision 1156733)<br />
+++ src/settings/dolphin_directoryviewpropertysettings.kcfg	(working copy)<br />
@@ -12,6 +12,10 @@<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;whatsthis context=&quot;@info:whatsthis&quot;&gt;When this option is enabled hidden files, such as those starting with a '.', will be shown in the file view.&lt;/whatsthis&gt;<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;default&gt;false&lt;/default&gt;<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/entry&gt;<br />
+        &lt;entry name=&quot;HideSpecificFiles&quot; type=&quot;StringList&quot; &gt;<br />
+            &lt;label context=&quot;@label&quot;&gt;Hide specific files&lt;/label&gt;<br />
+            &lt;whatsthis context=&quot;@info:whatsthis&quot;&gt;When files are listed here they'll be hidden from view normally&lt;/whatsthis&gt;<br />
+        &lt;/entry&gt;<br />
&#160;&#160;&#160;&#160;&#160;&lt;/group&gt;<br />
&#160;<br />
&#160;&#160;&#160;&#160;&#160;&lt;group name=&quot;Dolphin&quot;&gt;	</td>
</tr>
<tr class="spacer">
	<td colspan="2"></td>
</tr>
</table>

</div><div id="bugnotes_closed" class="hidden">
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
		<a href="" onclick="ToggleDiv( 'bugnotes' ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&#160;		Notes	</td>
</tr>
</table>
</div><a name="addbugnote"></a> <br />

<div id="bugnote_add_open"><form name="bugnoteadd" method="post" action="bugnote_add.php">
<input type="hidden" name="bugnote_add_token" value="201612284bb09360d338f2784c7f2cbd0ab40ad7de526325"/><input type="hidden" name="bug_id" value="97" />
<table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
<a href="" onclick="ToggleDiv( 'bugnote_add' ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&#160;Add Note	</td>
</tr>
<tr class="row-2">
	<td class="category" width="25%">
		Note	</td>
	<td width="75%">
		<textarea name="bugnote_text" cols="80" rows="10"></textarea>
	</td>
</tr>


<tr>
	<td class="center" colspan="2">
		<input type="submit" class="button" value="Add Note"  onclick="this.disabled=1;document.bugnoteadd.submit();" />
	</td>
</tr>
</table>
</form>
</div><div id="bugnote_add_closed" class="hidden"><table class="width100" cellspacing="1">
<tr>
	<td class="form-title" colspan="2">
	<a href="" onclick="ToggleDiv( 'bugnote_add' ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&#160;Add Note	</td>
</tr>
</table>
</div>

<a name="history" id="history" /><br />

<div id="history_open"><table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
<a href="" onclick="ToggleDiv( 'history' ); return false;"
			><img border="0" src="images/minus.png" alt="-" /></a>&#160;Issue History	</td>
</tr>
<tr class="row-category-history">
	<td class="small-caption">
		Date Modified	</td>
	<td class="small-caption">
		Username	</td>
	<td class="small-caption">
		Field	</td>
	<td class="small-caption">
		Change	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2012-08-24 22:00	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		New Issue	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2012-08-24 22:00	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Status	</td>
	<td class="small-caption">
		new =&gt; assigned	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2012-08-24 22:00	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Assigned To	</td>
	<td class="small-caption">
		 =&gt; admin	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2012-08-24 22:19	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Relationship added	</td>
	<td class="small-caption">
		parent of 0000098	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2012-11-09 05:19	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Note Added: 0000106	</td>
	<td class="small-caption">
			</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2016-06-23 22:45	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Relationship deleted	</td>
	<td class="small-caption">
		parent of 0000098	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2016-06-23 22:46	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Priority	</td>
	<td class="small-caption">
		low =&gt; normal	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2016-06-23 22:46	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Target Version	</td>
	<td class="small-caption">
		 =&gt; 7.3	</td>
</tr>
<tr class="row-1">
	<td class="small-caption">
		2016-08-17 13:36	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Relationship added	</td>
	<td class="small-caption">
		child of 0000098	</td>
</tr>
<tr class="row-2">
	<td class="small-caption">
		2016-09-03 23:08	</td>
	<td class="small-caption">
		<a href="http://futuramerlin.com/issue-tracker/view_user_page.php?id=1">admin</a>	</td>
	<td class="small-caption">
		Summary	</td>
	<td class="small-caption">
		Can’t hide individual files and folders in Dolphin (without prefixing them with a .) =&gt; File manager: Can’t hide individual files and folders (without prefixing them with a .)	</td>
</tr>
</table>
</div><div id="history_closed" class="hidden"><table class="width100" cellspacing="0">
<tr>
	<td class="form-title" colspan="4">
	<a href="" onclick="ToggleDiv( 'history' ); return false;"
			><img border="0" src="images/plus.png" alt="+" /></a>&#160;Issue History	</td>
</tr>
</table>

</div>	<br />
	<hr size="1" />
<table border="0" width="100%" cellspacing="0" cellpadding="0"><tr valign="top"><td>	<address>Copyright &copy; 2000 - 2016 MantisBT Team</address>
</td><td>
	<div align="right"><a href="http://www.mantisbt.org" title="Free Web Based Bug Tracker"><img src="/issue-tracker/images/mantis_logo.png" width="145" height="50" alt="Powered by Mantis Bugtracker" border="0" /></a></div>
</td></tr></table>
</body>
</html>
